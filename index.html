<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KalaKriti AI - Empowering Indian Artisans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .typing-animation {
            overflow: hidden;
            border-right: .15em solid #764ba2;
            white-space: pre-wrap;
            animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #764ba2; }
        }
        
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(234, 88, 12, 0.7);
            }
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(234, 88, 12, 0);
            }
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(234, 88, 12, 0);
            }
        }
        
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #764ba2;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <i class="fas fa-palette text-3xl text-purple-600 mr-3"></i>
                    <h1 class="text-2xl font-bold text-gray-800">KalaKriti AI</h1>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#" onclick="showSection('home')" class="nav-link text-gray-600 hover:text-purple-600 transition">Home</a>
                    <a href="app.html" onclick="showSection('onboarding')" class="nav-link text-gray-600 hover:text-purple-600 transition">Artisan Portal</a>
                    <a href="#" onclick="showSection('marketplace')" class="nav-link text-gray-600 hover:text-purple-600 transition">Marketplace</a>
                    <a href="#" onclick="showSection('analytics')" class="nav-link text-gray-600 hover:text-purple-600 transition">Analytics</a>
                </div>
                <button onclick="toggleMobileMenu()" class="md:hidden">
                    <i class="fas fa-bars text-2xl text-gray-600"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="hidden fixed inset-0 bg-white z-40 pt-20">
        <div class="flex flex-col space-y-4 p-4">
            <a href="#" onclick="showSection('home'); toggleMobileMenu()" class="text-lg text-gray-600">Home</a>
            <a href="app.html" onclick="showSection('onboarding'); toggleMobileMenu()" class="text-lg text-gray-600">Artisan Portal</a>
            <a href="#" onclick="showSection('marketplace'); toggleMobileMenu()" class="text-lg text-gray-600">Marketplace</a>
            <a href="#" onclick="showSection('analytics'); toggleMobileMenu()" class="text-lg text-gray-600">Analytics</a>
        </div>
    </div>

    <!-- Home Section -->
    <section id="home" class="section">
        <!-- Hero Section -->
        <div class="gradient-bg text-white py-20">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl md:text-5xl font-bold mb-4">Empowering Indian Artisans with AI</h2>
                <p class="text-xl mb-8">Bridge the digital divide and take traditional crafts global</p>
                <div class="flex flex-col md:flex-row justify-center gap-4">
                    <button  class="bg-white text-purple-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition">
                        <a href="app.html">I'm an Artisan</a>
                    </button>
                    <button onclick="showSection('marketplace')" class="bg-transparent border-2 border-white text-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-purple-600 transition">
                        Shop Authentic Crafts
                    </button>
                </div>
            </div>
        </div>

        <!-- Features Grid -->
        <div class="container mx-auto px-4 py-16">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">AI-Powered Features</h3>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-microphone"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Voice Story Capture</h4>
                    <p class="text-gray-600">Tell your story in any Indian language, AI creates compelling brand narratives</p>
                </div>
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-camera"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Smart Photography</h4>
                    <p class="text-gray-600">AI enhances product photos and creates professional listings</p>
                </div>
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Business Analytics</h4>
                    <p class="text-gray-600">Track sales, understand customers, and grow your business</p>
                </div>
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-language"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Multilingual Support</h4>
                    <p class="text-gray-600">Communicate with customers in 15+ languages automatically</p>
                </div>
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-bullhorn"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">AI Marketing</h4>
                    <p class="text-gray-600">Generate social media content and marketing campaigns</p>
                </div>
                <div class="card-hover bg-white rounded-lg shadow-lg p-6">
                    <div class="text-4xl text-purple-600 mb-4">
                        <i class="fas fa-rupee-sign"></i>
                    </div>
                    <h4 class="text-xl font-semibold mb-2">Smart Pricing</h4>
                    <p class="text-gray-600">AI suggests competitive prices based on market analysis</p>
                </div>
            </div>
        </div>

        <!-- Impact Stats -->
        <div class="bg-purple-50 py-16">
            <div class="container mx-auto px-4">
      
                <div class="grid md:grid-cols-4 gap-8 text-center">
                    <div>

                    </div>
                    <div>

                    </div>
                   
                    <div>

                    </div>
                </div>
            </div>
        </div>
    </section>

 

    <!-- Marketplace Section -->
    <section id="marketplace" class="section hidden">
        <div class="container mx-auto px-4 py-8">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">Artisan Marketplace</h2>
            
            <!-- Search and Filters -->
            <div class="max-w-6xl mx-auto mb-8">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="text" placeholder="Search for products, artisans, or crafts..." class="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-purple-500">
                        <select class="px-4 py-2 border rounded-lg focus:outline-none focus:border-purple-500">
                            <option>All Categories</option>
                            <option>Paintings</option>
                            <option>Textiles</option>
                            <option>Pottery</option>
                            <option>Jewelry</option>
                        </select>
                        <button class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition">
                            <i class="fas fa-search mr-2"></i>Search
                        </button>
                    </div>
                </div>
            </div>

            <!-- Product Grid -->
<div class="max-w-6xl mx-auto">
    <div class="grid md:grid-cols-3 lg:grid-cols-4 gap-6">
        <!-- Product Card 1 -->
        <div class="card-hover bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="h-48 bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center overflow-hidden">
                <img src="rangoli.png" alt="Madhubani Wall Art" class="w-full h-full object-cover">
            </div>
            <div class="p-4">
                <h4 class="font-semibold mb-1">Madhubani Wall Art</h4>
                <p class="text-sm text-gray-600 mb-2">By Kamala Devi</p>
                <div class="flex justify-between items-center">
                    <span class="text-lg font-bold text-purple-600">‚Çπ2,500</span>
                    <button class="bg-purple-100 text-purple-600 px-3 py-1 rounded hover:bg-purple-200 transition">
                        View
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Card 2 -->
        <div class="card-hover bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="h-48 bg-gradient-to-br from-blue-200 to-teal-200 flex items-center justify-center overflow-hidden">
                <img src="Saree.png" alt="Handwoven Silk Saree" class="w-full h-full object-cover">
            </div>
            <div class="p-4">
                <h4 class="font-semibold mb-1">Handwoven Silk Saree</h4>
                <p class="text-sm text-gray-600 mb-2">By Priya Sharma</p>
                <div class="flex justify-between items-center">
                    <span class="text-lg font-bold text-purple-600">‚Çπ8,500</span>
                    <button class="bg-purple-100 text-purple-600 px-3 py-1 rounded hover:bg-purple-200 transition">
                        View
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Card 3 -->
        <div class="card-hover bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="h-48 bg-gradient-to-br from-orange-200 to-red-200 flex items-center justify-center overflow-hidden">
                <img src="pots.png" alt="Terracotta Vase Set" class="w-full h-full object-cover">
            </div>
            <div class="p-4">
                <h4 class="font-semibold mb-1">Terracotta Vase Set</h4>
                <p class="text-sm text-gray-600 mb-2">By Ravi Kumar</p>
                <div class="flex justify-between items-center">
                    <span class="text-lg font-bold text-purple-600">‚Çπ1,800</span>
                    <button class="bg-purple-100 text-purple-600 px-3 py-1 rounded hover:bg-purple-200 transition">
                        View
                    </button>
                </div>
            </div>
        </div>

        <!-- Product Card 4 -->
  <!-- Product Card 4 -->
        <div class="card-hover bg-white rounded-lg shadow-lg overflow-hidden">
<div class="h-48 bg-gradient-to-br from-green-200 to-lime-200 flex items-center justify-center overflow-hidden">
<img src="pillow.jpg" alt="Block Print Cushions" class="w-full h-full object-cover">
</div>
            <div class="p-4">
                <h4 class="font-semibold mb-1">Block Print Cushions</h4>
                <p class="text-sm text-gray-600 mb-2">By Meera Patel</p>
                <div class="flex justify-between items-center">
                    <span class="text-lg font-bold text-purple-600">‚Çπ1,200</span>
                    <button class="bg-purple-100 text-purple-600 px-3 py-1 rounded hover:bg-purple-200 transition">
                        View
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
            <!-- AI Chat Assistant -->
            <div class="fixed bottom-4 right-4 z-40">
                <button onclick="toggleChat()" class="bg-purple-600 text-white rounded-full p-4 shadow-lg hover:bg-purple-700 transition">
                    <i class="fas fa-comment-dots text-2xl"></i>
                </button>
            </div>

            <!-- Chat Window -->
            <div id="chatWindow" class="hidden fixed bottom-20 right-4 w-96 bg-white rounded-lg shadow-xl z-40">
                <div class="bg-purple-600 text-white p-4 rounded-t-lg">
                    <h4 class="font-semibold">AI Shopping Assistant</h4>
                    <p class="text-sm">Ask me anything about our products!</p>
                </div>
                <div class="h-80 overflow-y-auto p-4">
                    <div class="bg-gray-100 rounded-lg p-3 mb-3">
                        <p class="text-sm">Hello! I can help you find the perfect artisan product. What are you looking for today?</p>
                    </div>
                    <div id="chatMessages"></div>
                </div>
                <div class="border-t p-3">
                    <div class="flex gap-2">
                        <input id="chatInput" type="text" placeholder="Type your message..." class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:border-purple-500">
                        <button onclick="sendMessage()" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="section hidden">
        <div class="container mx-auto px-4 py-8">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">Business Analytics Dashboard</h2>
            
            <!-- Overview Cards -->
            <div class="grid md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-gray-600">Total Sales</h4>
                        <i class="fas fa-rupee-sign text-2xl text-green-500"></i>
                    </div>
                    <div class="text-2xl font-bold">‚Çπ45,250</div>
                    <div class="text-sm text-green-500">‚Üë 23% from last month</div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-gray-600">Orders</h4>
                        <i class="fas fa-shopping-cart text-2xl text-blue-500"></i>
                    </div>
                    <div class="text-2xl font-bold">127</div>
                    <div class="text-sm text-blue-500">‚Üë 15% from last month</div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-gray-600">Customers</h4>
                        <i class="fas fa-users text-2xl text-purple-500"></i>
                    </div>
                    <div class="text-2xl font-bold">89</div>
                    <div class="text-sm text-purple-500">‚Üë 31% from last month</div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="text-gray-600">Avg Rating</h4>
                        <i class="fas fa-star text-2xl text-yellow-500"></i>
                    </div>
                    <div class="text-2xl font-bold">4.8</div>
                    <div class="text-sm text-gray-500">Based on 45 reviews</div>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- Sales Trend -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">Sales Trend (Last 6 Months)</h3>
                    <div class="h-64 flex items-end justify-between px-4">
                        <div class="w-12 bg-purple-400" style="height: 40%"></div>
                        <div class="w-12 bg-purple-400" style="height: 55%"></div>
                        <div class="w-12 bg-purple-400" style="height: 45%"></div>
                        <div class="w-12 bg-purple-400" style="height: 60%"></div>
                        <div class="w-12 bg-purple-400" style="height: 75%"></div>
                        <div class="w-12 bg-purple-600" style="height: 90%"></div>
                    </div>
                    <div class="flex justify-between px-4 mt-2 text-sm text-gray-600">
                        <span>Jan</span>
                        <span>Feb</span>
                        <span>Mar</span>
                        <span>Apr</span>
                        <span>May</span>
                        <span>Jun</span>
                    </div>
                </div>

                <!-- Product Performance -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">Top Products</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">Madhubani Paintings</span>
                                <span class="text-sm font-semibold">45%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-600 h-2 rounded-full" style="width: 45%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">Wall Hangings</span>
                                <span class="text-sm font-semibold">30%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 30%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">Coasters</span>
                                <span class="text-sm font-semibold">15%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-400 h-2 rounded-full" style="width: 15%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">Greeting Cards</span>
                                <span class="text-sm font-semibold">10%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-300 h-2 rounded-full" style="width: 10%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customer Insights -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                <h3 class="text-xl font-semibold mb-4">Customer Insights</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div>
                        <h4 class="font-semibold mb-2">Demographics</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Age 25-34</span>
                                <span class="font-semibold">38%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Age 35-44</span>
                                <span class="font-semibold">31%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Age 45+</span>
                                <span class="font-semibold">31%</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-2">Top Locations</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Mumbai</span>
                                <span class="font-semibold">28%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Delhi NCR</span>
                                <span class="font-semibold">22%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Bangalore</span>
                                <span class="font-semibold">18%</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-2">Purchase Patterns</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Repeat Customers</span>
                                <span class="font-semibold">42%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Gift Purchases</span>
                                <span class="font-semibold">35%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Festival Season</span>
                                <span class="font-semibold">60%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Recommendations -->
            <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-semibold mb-4">
                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                    AI Recommendations
                </h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-purple-600">üìà Pricing Strategy</h4>
                        <p class="text-sm text-gray-700">Your Madhubani paintings are underpriced by 15% compared to market. Consider increasing prices for premium pieces.</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-purple-600">üéØ Marketing Opportunity</h4>
                        <p class="text-sm text-gray-700">Diwali season approaching! Create festival-themed collection to boost sales by estimated 40%.</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-purple-600">üì¶ Inventory Alert</h4>
                        <p class="text-sm text-gray-700">Coaster sets selling fast. Restock recommended within 5 days to avoid stockout.</p>
                    </div>
                    <div class="bg-white rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-purple-600">üåü Customer Engagement</h4>
                        <p class="text-sm text-gray-700">Send personalized thank you notes to top 10 customers to increase retention by 25%.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 KalaKriti AI - Empowering Indian Artisans with Technology</p>
            <p class="mt-2 text-gray-400">Built for Google Cloud GenAI Hackathon</p>
        </div>
    </footer>

    <script>
        // Section Navigation
        function showSection(sectionName) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.add('hidden'));
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update nav active state
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('text-purple-600'));
            event.target.classList.add('text-purple-600');
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // Language Selection
        function selectLanguage(language) {
            const buttons = document.querySelectorAll('.lang-btn');
            buttons.forEach(btn => btn.classList.remove('bg-purple-600', 'text-white'));
            event.target.classList.add('bg-purple-600', 'text-white');
            
            // Show notification
            showNotification(`Language changed to ${language}`);
        }

        // Recording Functionality
        let isRecording = false;
        let recordingTimer;
        let seconds = 0;

        function toggleRecording() {
            const btn = document.getElementById('recordBtn');
            const indicator = document.getElementById('recordingIndicator');
            const timeDisplay = document.getElementById('recordingTime');
            
            if (!isRecording) {
                isRecording = true;
                btn.innerHTML = '<i class="fas fa-stop mr-2"></i>Stop Recording';
                btn.classList.remove('bg-purple-600');
                btn.classList.add('bg-red-600');
                indicator.classList.remove('hidden');
                timeDisplay.classList.remove('hidden');
                
                // Start timer
                recordingTimer = setInterval(() => {
                    seconds++;
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    timeDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                }, 1000);
                
                // Simulate recording for demo
                setTimeout(() => {
                    if (isRecording) {
                        toggleRecording();
                        document.getElementById('voiceTranscript').classList.remove('hidden');
                    }
                }, 5000);
            } else {
                isRecording = false;
                btn.innerHTML = '<i class="fas fa-microphone mr-2"></i>Start Recording';
                btn.classList.remove('bg-red-600');
                btn.classList.add('bg-purple-600');
                indicator.classList.add('hidden');
                clearInterval(recordingTimer);
                seconds = 0;
            }
        }

       async function generateStory() {
    const storyDiv = document.getElementById('generatedStory');
    const btn = event.target;
    
    // --- Collect data from the form ---
    // (For this example, we'll use the placeholder data. In a real app, you'd get these values from the input fields.)
    const artisanData = {
        name: "Kamala Devi",
        craft: "Madhubani Painting",
        location: "Jaipur, Rajasthan",
        experience: 20,
        transcript: "‡§Æ‡•à‡§Ç ‡§∞‡§æ‡§ú‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•á ‡§ú‡§Ø‡§™‡•Å‡§∞ ‡§∏‡•á ‡§π‡•Ç‡§Ç‡•§ ‡§Æ‡•á‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§ï‡§Æ‡§≤‡§æ ‡§¶‡•á‡§µ‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§Æ‡•à‡§Ç ‡§™‡§ø‡§õ‡§≤‡•á 20 ‡§∏‡§æ‡§≤‡•ã‡§Ç ‡§∏‡•á ‡§Æ‡§ß‡•Å‡§¨‡§®‡•Ä ‡§™‡•á‡§Ç‡§ü‡§ø‡§Ç‡§ó ‡§¨‡§®‡§æ ‡§∞‡§π‡•Ä ‡§π‡•Ç‡§Ç‡•§ ‡§Ø‡§π ‡§ï‡§≤‡§æ ‡§Æ‡•à‡§Ç‡§®‡•á ‡§Ö‡§™‡§®‡•Ä ‡§¶‡§æ‡§¶‡•Ä ‡§∏‡•á ‡§∏‡•Ä‡§ñ‡•Ä ‡§•‡•Ä..."
    };

    // Show loading state
    btn.innerHTML = '<div class="loading-spinner inline-block w-5 h-5 mr-2"></div>Generating...';
    btn.disabled = true;

    try {
        // --- Call the backend API using fetch ---
        const response = await fetch('http://localhost:3000/api/generate-story', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(artisanData),
        });

        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        const result = await response.json();
        
        // The Gemini response is often a string of JSON, so we need to parse it.
        const aiContent = JSON.parse(result.data);

        // --- Update the HTML with the AI-generated content ---
        storyDiv.innerHTML = `
            <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg">
                <h4 class="font-bold text-lg mb-2">Your Brand Story:</h4>
                <p class="text-gray-700 mb-4">${aiContent.brandStory.replace(/\n/g, '<br>')}</p> <div class="mt-4">
                    <h5 class="font-semibold mb-2">Suggested Product Descriptions:</h5>
                    <div class="space-y-2">
                        <div class="bg-white p-3 rounded">${aiContent.productDescriptions[0]}</div>
                        <div class="bg-white p-3 rounded">${aiContent.productDescriptions[1]}</div>
                    </div>
                </div>
            </div>
            `;
        
        storyDiv.classList.remove('hidden');
        showNotification('Brand story generated successfully!');

    } catch (error) {
        console.error('Error:', error);
        storyDiv.innerHTML = `<p class="text-red-500">Sorry, something went wrong. Please try again.</p>`;
        storyDiv.classList.remove('hidden');
        showNotification('An error occurred.');
    } finally {
        // Restore button
        btn.innerHTML = 'Regenerate Story';
        btn.disabled = false;
    }
}

        // Generate Social Media Content
        function generateSocialMedia() {
            const content = document.getElementById('socialMediaContent');
            content.classList.remove('hidden');
            showNotification('Social media posts generated!');
        }

        function generateHashtags() {
            const content = document.getElementById('socialMediaContent');
            content.classList.remove('hidden');
            showNotification('Trending hashtags generated!');
        }

       // Chat function
async function sendMessage() {
  const input = document.getElementById("chatInput");
  const messagesDiv = document.getElementById("chatMessages");

  if (input.value.trim()) {
    messagesDiv.innerHTML += `
      <div class="bg-purple-100 rounded-lg p-3 mb-3 ml-auto max-w-xs">
        <p class="text-sm">${input.value}</p>
      </div>
    `;

    const response = await fetch("http://localhost:5000/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: input.value })
    });

    const data = await response.json();
    messagesDiv.innerHTML += `
      <div class="bg-gray-100 rounded-lg p-3 mb-3 max-w-xs">
        <p class="text-sm">${data.reply}</p>
      </div>
    `;

    input.value = "";
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }
}

        // Notification System
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            notification.innerHTML = `
                <i class="fas fa-check-circle mr-2"></i>${message}
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Handle Enter key in chat
        document.addEventListener('DOMContentLoaded', () => {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });
    </script>
</body>
</html>